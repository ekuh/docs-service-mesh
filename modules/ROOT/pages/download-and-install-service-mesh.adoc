= Downloading and Installing Service Mesh
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: service mesh, microservices, downloading, installing

image::install-service-mesh-breadcrumb.png[]

 
== Download Anypoint Service Mesh Client

You install, manage, and troubleshoot your Anypoint Service Mesh instance by using the Anypoint Service Mesh client. 

To download the Anypoint Service Mesh client, type the following command at the command prompt:

`curl -Ls http://anypoint.mulesoft.com/servicemesh/xapi/v1/install > asmctl && chmod +x asmctl`


== Configuring Your Environment Variable on Linux Systems

Before you begin installing Anypoint Service Mesh, configure your `PATH` environment variable to store system-wide values, such as the directories to search for the executable programs.

To configure your `PATH` variable on Linux: 

. Open the `.bashrc` file in your home directory.
+
For example, type `cd /home/_your-user-name_/.bashrc`) in a text editor.
. Add the following command to the last line of the file:
+
`export PATH=_your-dir:$PATH_`, where _your-dir_ is the directory you want to add.
. Save the `.bashrc` file.
. Restart your terminal.


== Install Anypoint Service Mesh

When you invoke the installer, Service Catalog, Anypoint Service Mesh Broker, and ClusterIP Service components are installed in your Kubernetes cluster. The installer performs several steps as part of the installation, such as checking for dependencies and performing various configurations. 

You can install Anypoint Service Mesh using the following options: 

* <<install-without-proxy,Install Anypoint Service Mesh without Proxy>> 
* <<install-with-proxy,Install Anypoint Service Mesh with Proxy>> 


=== Task Prerequisites

Before you install Anypoint Service Mesh, ensure that you have completed the xref:prepare-to-install-service-mesh.adoc[installation prerequisites]. You will require the credentials and license information acquired from the prerequisites to perform the installation.

[[install-without-proxy]]
=== Install without Proxy

To install Anypoint Service Mesh without a proxy, perform the following steps:

. In the location from which you downloaded your Anypoint Service Mesh client, type:
+
`asmctl install --clientId=<clientId> --clientSecret=<clientSecret> --license=<license absolute or relative path> --platformUri=<Anypoint Platform Uri>`
+
. Enter your client ID.
. Enter your client secret.
. Enter the path where your Anypoint Service Mesh license is stored.
+
Anypoint Service Mesh installs within few minutes and displays a status: 
+
image::service-mesh-installer-output.png[Example Installation Output]
+
If an installation error occurs, the installer times out and uninstalls all previously installed Anypoint Service Mesh components.
. Verify the status of all pods:
+
`kubectl get pods -n service-mesh`
+
Anypoint Service Mesh is installed and a status of all pods is displayed:
+
image::verified-service-mesh-installer-output.png[]

[[install-with-proxy]]
=== Install with Proxy

If you need to install Anypoint Service Mesh in a proxy environment, provide the proxy configuration during the installation. 

. In the location from which you downloaded your Anypoint Service Mesh client, type:
+
`asmctl install --clientId=<clientId> --clientSecret=<clientSecret> --license=<license absolute or relative path> --platformUri=<Anypoint Platform Uri> --proxyHost=<host> --proxyProtocol=<protocol> --proxyPort=<port> --proxyUser=<proxy username> --proxyPassword=<proxy password>`
+
[%header%autowidth.spread]
|===
| Parameter Name | Description | Required or Optional | Default Value
| `clientId` | The client ID of the environment (recommended) or the organization 
| Required | None
| `clientSecret` | The client secret of the environment (recommended) or the organization | Required | None
| `license` | The path to the location where your license is stored | Required | None
| `platformUri` | The URL of the platform| Optional | https://anypoint.mulesoft.com
| `proxyHost` | The name of the proxy host | Optional | None
| `proxyProtocol`| The protocol used by the proxy: HTTP or HTTPS | Optional | None
| `proxyPort`| The port number used by the proxy | Optional | None
| `proxyUser` | The username for the proxy authentication | Optional | None
| `proxyPassword`| The password for the proxy authentication | Optional | None
|===
+
Anypoint Service Mesh installs within few minutes and displays a status: 
+
image::service-mesh-installer-output.png[Example Installation Output]
+
If an installation error occurs, the installer times out and uninstalls all previously installed Anypoint Service Mesh components.
. Verify the status of all pods:
+
`kubectl get pods -n service-mesh`
+
Anypoint Service Mesh is installed and the status of all pods is displayed:
+
image::verified-service-mesh-installer-output.png[]



