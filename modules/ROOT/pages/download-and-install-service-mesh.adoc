= Download and Install Service Mesh
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: service mesh, microservices, downloading, installing

image::install-service-mesh-breadcrumb.png[]

The following topics are covered in this section:

* <<download-service-mesh,Download Service Mesh Client>>
* <<install-service-mesh,Install Service Mesh>>

Before you install Service Mesh, you must first download the product from the installer download URL. As part of installation, the following required components are deployed on a Kubernetes cluster:

* Istio
* Service Catalog
* Mulesoft Anypoint Service Mesh Broker
* Mulesoft ClusterIP Service
 


[[download-service-mesh]]
== Download Anypoint Service Mesh Client

You install, manage, and troubleshoot your Anypoint Service Mesh using Service Mesh Client. 

To download the Service Mesh Client, perform the following step:

Type the following command at the command prompt:

`curl -Ls http://anypoint.mulesoft.com/servicemesh/xapi/v1/install > service-mesh && chmod +x service-mesh`

The Service Mesh Client is now downloaded on your local drive.

[[install-service-mesh]]
== Install Anypoint Service Mesh

When the installer is invoked, Istio is installed first. The MuleSoft adapter and broker are then installed inside the Istio mixer. The installer perform several steps as part of the installation, such as it checks for dependencies and various configurations.

To install Anypoint Service Mesh, perform the following steps:

. From the location where you downloaded your Service Mesh Client, type `./service-mesh install`
The Welcome to Service Mesh installer message is displayed.
. At the Please enter your *Client Id* prompt, specify your client ID that obtained as part of the prerequisites.
. At the Please enter your *Client Secret* prompt, specify your client secret that obtained as part of the prerequisites.
. At the Please enter the path to your Service Mesh license, specify the MuleSoft license that you obtained by emailing the MuleSoft team as part of the prerequisites.
+
Anypoint Service Mesh installs within few minutes and displays a status, as shown in the example output. If an installation error occurs, the installer times out and uninstalls all previously installed Service Mesh components. 
+
image::service-mesh-installer-output.png[Example Installation Output]
+
. Verify the status of all pods:
+
`> kubectl get pods -n service-mesh`
+
MuleSoft Anypoint Service Mesh is now installed. All the pods listed in the output must be in Ready state. A status of all pods is displayed, as shown in the example output.
+
image::verified-service-mesh-installer-output.png[]

== Uninstall Service Mesh

You might have to uninstall or delete Anypoint Service Mesh to troubleshoot issues or for other reasons. If you uninstall Service Mesh with bindings or adapters created, or have applications with an injected Envoy, the application stops working. The command removes all the Kubernetes components associated with Service Mesh project.

=== Recommendations for uninstallation

Before you uninstall Service Mesh, make sure that you:

. Delete all bindings
. Delete all adapters
. Remove the injection label on the namespaces with provisioned applications
. Redeploy your applications
. Finally uninstall Service Mesh


To uninstall Service Mesh:

Run the  following command from the installer download URI:
`> ./service-mesh uninstall && rm service-mesh`
